<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/static/css/global.css" />
	<link rel="stylesheet" href="/static/css/tailwind.css" />
	<title>Categories</title>
</head>
<body>
	<main class="max-w-lg mx-auto">
		<header class="flex items-center justify-between mb-8 mt-4 text-white">
			<h1 class="text-lg">Welcome Home, Punk!</h1>
			<a class="text-green-700 underline" href="/">Home</a>
		</header>

		<div class="mb-8">
			<div class="flex items-center justify-start mb-2 text-white">
				<svg class="w-6 h-6 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
				</svg>
				<h2>New category</h2>
			</div>
			<form id="form"  class="p-4 border border-green-700">
				<label for="title" class="block text-white">Name</label>
				<input type="text" name="title" id="title" placeholder="category name" class="mb-2 border !border-gray-500"/>

				<label for="icon" class="block text-white">Icon</label>
				<input class="text-white" type="file" accept="image/*" id="icon" name="icon" placeholder="category icon" />
				<div>
					<button id="submit" hx-params="*" hx-post="/createReceipt" hx-target="#receipts" hx-swap="afterbegin" type="submit" class="border text-white px-4 py-2 mt-4">Add</button>
				</div>
			</form>
		</div>

		<div class="mb-8">
			<div class="flex items-center justify-start mb-2 text-white">
				<svg class="w-6 h-6 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
				</svg>
				<h2>Categories</h2>
			</div>
		  <table class="w-full border border-green-700">
				<tr class="border-b">
					<th class="p-4 text-gray-400 text-left">#</th>
					<th class="p-4 text-gray-400 text-left">Name</th>
					<th class="p-4 text-gray-400 text-left">Icon</th>
				</tr>
				{{ if not .categories }}
					<h3>Nothing's going on here</h3>
				{{ else }}
					{{ range $i, $e := .categories }}
						<tr>
							<td class="p-4 text-white text-left before:content-[rowNumber]">{{ $i }}</td>
							<td class="p-4 text-white text-left">{{ .Title }}</td>
							<td class="p-4 text-white text-left">
								<div class="w-6 h-6">
									<img src={{.Icon}} alt={{.Title}} class="w-full h-full rounded-full"/>
								</div>
							</td>
						</tr>
					{{ end }}
				{{ end }}
			</table> 
		</div>

	</main>
	
	<script src="/static/js/htmx.min.js" defer></script>
</body>
</html>

