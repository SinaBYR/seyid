<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/static/css/global.css" />
	<link rel="stylesheet" href="/static/css/tailwind.css" />
	<title>Home</title>
</head>
<body>
	
	<main class="max-w-lg mx-auto">
		<header class="flex items-center justify-between mb-8 mt-4 text-white">
			<h1 class="text-lg">Welcome Home, Punk!</h1>
			<a class="text-green-700 underline" href="/categories">Categories</a>
		</header>

		<div class="mb-8">
			<div class="flex items-center justify-start mb-2 text-white">
				<svg class="w-6 h-6 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
				</svg>
				<h2>New receipt</h2>
			</div>
			<form id="form" class="p-4 border border-green-700">
				<label for="amount" class="block text-white">Amount</label>
				<input type="text" name="amount" id="amount" placeholder="amount" class="mb-2 border !border-gray-500"/>

				<label for="description" class="block text-white">Description</label>
				<input type="text" name="description" id="description" placeholder="description" class="border !border-gray-500"/>

				<div>
					<label for="year" class="block text-white">Date</label>
					<select name="year">
						<option value="1402">1402</option>
						<option value="1403">1403</option>
						<option value="1404">1404</option>
					</select>

					<select name="month">
						<option value="1">فروردین</option>
						<option value="2">اردیبهشن</option>
						<option value="3">خرداد</option>
						<option value="4">تیر</option>
						<option value="5">مرداد</option>
						<option value="6">شهریور</option>
						<option value="7">مهر</option>
						<option value="8">آبان</option>
						<option value="9">آذر</option>
						<option value="10">دی</option>
						<option value="11">بهمن</option>
						<option value="12">اسفند</option>
					</select>

					<select name="day">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>

						<option value="11">11</option>
						<option value="12">12</option>
						<option value="13">13</option>
						<option value="14">14</option>
						<option value="15">15</option>
						<option value="16">16</option>
						<option value="17">17</option>
						<option value="18">18</option>
						<option value="19">19</option>
						<option value="20">20</option>

						<option value="21">21</option>
						<option value="22">22</option>
						<option value="23">23</option>
						<option value="24">24</option>
						<option value="25">25</option>
						<option value="26">26</option>
						<option value="27">27</option>
						<option value="28">28</option>
						<option value="29">29</option>
						<option value="30">30</option>

						<option value="31">31</option>
					</select>
				</div>
				<div>
					<label for="userId" class="block text-white">User</label>
					<select name="userId" id="userId" hx-get="/extra/users" hx-trigger="load" hx-target="this"></select>
				</div>
				<div>
					<label for="categoryId" class="block text-white">Category</label>
					<select name="categoryId" id="categoryId" hx-get="/extra/categories" hx-trigger="load" hx-target="this"></select>
				</div>
				<div>
					<button id="submit" hx-params="*" hx-post="/createReceipt" hx-target="#receipts" hx-swap="afterbegin" type="submit" class="border text-white px-4 py-2 mt-4">Add</button>
				</div>
			</form>
		</div>
		<div id="hi"></div>

		<div class="mb-8">
			<div class="flex items-center justify-start mb-2 text-white">
				<svg class="w-6 h-6 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
				</svg>
				<h2>Receipts</h2>
			</div>
		  <table class="w-full border border-green-700">
				<tr class="border-b">
					<th class="p-4 text-gray-400 text-left">#</th>
					<th class="p-4 text-gray-400 text-left">Amount</th>
					<th class="p-4 text-gray-400 text-left">Description</th>
					<th class="p-4 text-gray-400 text-left">User</th>
					<th class="p-4 text-gray-400 text-left">Category</th>
				</tr>
				{{ if not .receipts }}
					<h3>Nothing's going on here</h3>
				{{ else }}
					{{ range .receipts }}
						<tr>
							<td class="p-4 text-white text-left">1</td>
							<td class="p-4 text-white text-left">{{ .Amount }}</td>
							<td class="p-4 text-white text-left">{{ .Description }}</td>
							<td class="p-4 text-white text-left">{{ .Nickname }}</td>
							<td class="p-4 text-white text-left">{{ .CategoryTitle }}</td>
						</tr>
					{{ end }}
				{{ end }}
			</table> 
		</div>

	</main>

	<script src="/static/js/htmx.min.js" defer></script>
	<script src="/static/js/jalali-moment.min.js" defer></script>
	<script type="module" src="/static/js/index.js"></script>
</body>
</html>

